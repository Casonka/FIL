<p align="center"> 
<img src="https://user-images.githubusercontent.com/91759086/190248440-2ef2d1a1-0922-4964-92f6-a2ac908225ce.jpeg">
</p>
<p align="center"> 
STM32 Fast Initialization Library (FIL)
</p>
<p align="center"> 
Библиотека быстрой инициализации для микроконтроллеров STM32 на базе программной IDE EmBitz
</p>
<p align="center"> 
Авторы: 
</p>
<p align="center"> 
Гаранин Евгений Олегович – руководитель РЦР ДГТУ
</p>
<p align="center"> 
Назаров Александр Александрович – программист РЦР ДГТУ
</p>

______________________________________________________________________________________________________________________________________________________

<h2><p align="center"> 
1. Архитектурное строение библиотеки
</p></h2>
Репозиторий содержит код ядра библиотеки быстрой инициализации, файлы с библиотеками для инициализации и отладки каждого сектора периферии и документацию. Библиотека использует определения конфигурационного файла и карты портов, чтобы предоставить к использованию необходимые функции, по умолчанию доступ к библиотеке через пользовательское пространство недоступен. После инициализации периферии линкер связывает необходимые файлы, в которых хранятся функции. Определения регистровой библиотеки CMSIS необходимы для работы библиотеки, обычно они встроены в большинство IDE и имеют большой список поддерживаемых контроллеров ST. 

![FIL_arh](https://user-images.githubusercontent.com/91759086/194941479-dea2e12b-eb39-4e41-96c7-f08276aafcd8.png)

<h2><p align="left"> 
Установка библиотеки (среда EmBitz)
</p></h2>

Установка начинается с создание нового проекта, согласно рисунку 1.1 и выбора архитектуры и названия проекта (рисунок 1.2).

Рисунок 1.1 – Создание проекта.
 
Рисунок 1.2 – Выбор линейки контроллера и названия проекта.
Далее потребуется выбрать микроконтроллер, с которым предстоит работать (смотри список поддерживаемых устройств). Инструкция приведена на рисунках 1.3. На остальных окнах, не приведенных в текущей документации просто нажимать далее.

Рисунок 1.3 – выбор линейки микроконтроллера.
Далее, отключаем встроенные библиотеки SPL и HAL (рисунок 1.4). Потребуется только CMSIS определения, которые в любом случае будут добавлены в новых проект. 

Рисунок 1.4 – Выбор модели, отключение встроенных библиотек.
Скопируйте файлы библиотеки FIL и любые другие файлы, необходимые для работы и добавьте их в созданный проект (рисунок 1.5). Итоговый вид проекта из проводника должен быть как на рисунке 1.6.

Рисунок 1.5 – Добавление новых файлов.

Рисунок 1.6 – добавление в пространство проекта файлов (проводник Windows).

Необходимо перейти в файл main.h и добавить подключение конфигурационного файла через #include как на рисунке 1.7.

Рисунок 1.7 – Добавление библиотеки в проект.
Для проверки правильности действий после установки необходимо собрать проект. Для этого необходимо в главном файле main.c написать основную команду применения настроек Board_Config и нажать кнопку Build, которая находится в верхней части пользовательского интерфейса (рисунок 1.8).

Рисунок 1.8 – Тестовая сборка проекта.
Если ошибок не обнаружено, необходимо загрузить программу в контроллер. Для этого справа от кнопки Rebuild есть красная, заметная любому пользователю кнопка для старта сессии. После её нажатия вы можете наблюдать демонстрационную версию, в которой мигают светодиоды.



______________________________________________________________________________________________________________________________________________________

Над репозиторием работал программист нижнего уровня Ресурсного центра робототехники - Александр Назаров 
